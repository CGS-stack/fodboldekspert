    <script>
        // API Configuration - Now using Vercel serverless functions
        const API_BASE = '/api'; // Vercel serverless functions
        const isDevelopment = window.location.hostname === 'localhost';
        const API_URL = isDevelopment ? 'http://localhost:3000/api' : API_BASE;

        let currentFilter = 'all';
        let realMatchesData = [];

        async function fetchRealFootballData() {
            try {
                console.log('üîÑ Henter rigtige data via Vercel API...');
                
                // Fetch both Premier League and Superliga data in parallel
                const [premierResponse, superligaResponse] = await Promise.all([
                    fetch(`${API_URL}/matches?league=premier&days=30`),
                    fetch(`${API_URL}/matches?league=superliga&days=30`)
                ]);

                if (!premierResponse.ok || !superligaResponse.ok) {
                    throw new Error('API request failed');
                }

                const premierData = await premierResponse.json();
                const superligaData = await superligaResponse.json();

                console.log('‚úÖ Premier League kampe:', premierData.count);
                console.log('‚úÖ Superligaen kampe:', superligaData.count);

                // Process real matches data
                const allMatches = [
                    ...premierData.matches.map(match => processMatchData(match, 'premier')),
                    ...superligaData.matches.map(match => processMatchData(match, 'superliga'))
                ];

                // Enrich with team statistics
                realMatchesData = await enrichMatchesWithStats(allMatches);
                
                console.log('üìä Total rigtige kampe indl√¶st:', realMatchesData.length);
                
                updateStats();
                renderMatches();
                
            } catch (error) {
                console.error('‚ùå Fejl ved hentning af rigtige data:', error);
                console.log('üéÆ Bruger forbedret demo data i stedet...');
                
                // Fallback to enhanced demo data
                loadEnhancedDemoData();
            }
        }

        function processMatchData(match, league) {
            const matchDate = new Date(match.date);
            const daysUntil = Math.ceil((matchDate - new Date()) / (1000 * 60 * 60 * 24));
            
            return {
                id: match.id,
                homeTeam: match.homeTeam,
                awayTeam: match.awayTeam,
                homeTeamId: match.homeTeamId,
                awayTeamId: match.awayTeamId,
                date: match.date.split('T')[0],
                time: matchDate.toLocaleTimeString('da-DK', {hour: '2-digit', minute: '2-digit'}),
                league: league,
                leagueName: match.league,
                venue: match.venue,
                daysUntil: daysUntil,
                status: match.status,
                round: match.round,
                hasAnalysis: daysUntil <= 3,
                daysUntilAnalysis: Math.max(1, daysUntil - 3)
            };
        }

        async function enrichMatchesWithStats(matches) {
            const enrichedMatches = [];
            
            for (const match of matches) {
                try {
                    // Fetch team statistics for both teams
                    const [homeStatsResponse, awayStatsResponse] = await Promise.all([
                        fetch(`${API_URL}/teams?league=${match.league}&teamId=${match.homeTeamId}`),
                        fetch(`${API_URL}/teams?league=${match.league}&teamId=${match.awayTeamId}`)
                    ]);

                    let homeStats, awayStats;
                    
                    if (homeStatsResponse.ok && awayStatsResponse.ok) {
                        const homeData = await homeStatsResponse.json();
                        const awayData = await awayStatsResponse.json();
                        
                        homeStats = {
                            goalsFor: homeData.data.goals.for,
                            goalsAgainst: homeData.data.goals.against,
                            possession: homeData.data.possession
                        };
                        
                        awayStats = {
                            goalsFor: awayData.data.goals.for,
                            goalsAgainst: awayData.data.goals.against,
                            possession: awayData.data.possession
                        };

                        match.homeForm = homeData.data.form;
                        match.awayForm = awayData.data.form;
                    } else {
                        // Fallback to generated stats if API fails
                        homeStats = generateTeamStats(match.homeTeam);
                        awayStats = generateTeamStats(match.awayTeam);
                        match.homeForm = generateRealisticForm();
                        match.awayForm = generateRealisticForm();
                    }
                    
                    match.homeStats = homeStats;
                    match.awayStats = awayStats;
                    
                    // Generate analysis and prediction if within 3 days
                    if (match.hasAnalysis) {
                        match.prediction = generatePrediction(match.homeTeam, match.awayTeam, homeStats, awayStats);
                        match.analysis = generateAdvancedAnalysis(match, homeStats, awayStats);
                    }
                    
                    enrichedMatches.push(match);
                    
                    // Add small delay to avoid rate limiting
                    await new Promise(resolve => setTimeout(resolve, 100));
                    
                } catch (error) {
                    console.warn(`Fejl ved hentning af stats for ${match.homeTeam} vs ${match.awayTeam}:`, error);
                    
                    // Add match with fallback data
                    match.homeStats = generateTeamStats(match.homeTeam);
                    match.awayStats = generateTeamStats(match.awayTeam);
                    match.homeForm = generateRealisticForm();
                    match.awayForm = generateRealisticForm();
                    
                    if (match.hasAnalysis) {
                        match.prediction = generatePrediction(match.homeTeam, match.awayTeam, match.homeStats, match.awayStats);
                        match.analysis = generateAdvancedAnalysis(match, match.homeStats, match.awayStats);
                    }
                    
                    enrichedMatches.push(match);
                }
            }
            
            return enrichedMatches;
        }

        function generateAdvancedAnalysis(match, homeStats, awayStats) {
            const homeGoalRatio = homeStats.goalsFor / Math.max(homeStats.goalsAgainst, 1);
            const awayGoalRatio = awayStats.goalsFor / Math.max(awayStats.goalsAgainst, 1);
            
            const homeAdvantage = homeGoalRatio > awayGoalRatio;
            const defenseComparison = homeStats.goalsAgainst < awayStats.goalsAgainst ? 'hjemmeholdet' : 'udeholdet';
            
            const analyses = [
                `${match.homeTeam} har vist ${homeStats.goalsFor > 10 ? 'st√¶rk' : 'moderat'} offensiv med ${homeStats.goalsFor} m√•l i s√¶sonen. ${match.awayTeam} har ${awayStats.goalsAgainst < 5 ? 'solid defensiv' : 'defensive udfordringer'} med ${awayStats.goalsAgainst} baglom√•l. ${defenseComparison} har v√¶ret mest stabile defensivt. Hjemmebanefordelen og seneste form favoriserer ${homeAdvantage ? match.homeTeam : match.awayTeam}.`,
                
                `Statistisk set peger ${homeGoalRatio > 1.5 ? 'hjemmeholdets m√•leffektivitet' : 'en t√¶t kamp'} p√• ${homeAdvantage ? 'hjemmesejr' : 'uafgjort eller udebanensejr'}. ${match.homeTeam} har scoret ${homeStats.goalsFor} og lukket ${homeStats.goalsAgainst} m√•l ind, mens ${match.awayTeam} har ${awayStats.goalsFor}-${awayStats.goalsAgainst} i m√•l-statistik. Boldholdelse og kontrol i midtbanen bliver n√∏glefaktorer.`,
                
                `H2H-data og seneste form indikerer en ${Math.abs(homeStats.goalsFor - awayStats.goalsFor) < 3 ? 'j√¶vnbyrdig' : 'uj√¶vn'} kamp. ${match.homeTeam}'s hjemmerekord og ${match.awayTeam}'s udebaneform bliver afg√∏rende. Med ${homeStats.goalsFor + awayStats.goalsFor} m√•l mellem holdene i s√¶sonen, forventer jeg en ${homeStats.goalsFor + awayStats.goalsFor > 15 ? 'm√•lrig' : 'taktisk'} aff√¶re.`
            ];
            
            return analyses[Math.floor(Math.random() * analyses.length)];
        }

        function generatePrediction(homeTeam, awayTeam, homeStats, awayStats) {
            // Advanced prediction based on real stats
            const homeStrength = (homeStats.goalsFor * 1.2 - homeStats.goalsAgainst + 3); // Home advantage
            const awayStrength = (awayStats.goalsFor - awayStats.goalsAgainst * 1.1);
            
            const strengthDiff = homeStrength - awayStrength;
            
            let outcome, confidence;
            if (strengthDiff > 3) {
                outcome = 'Hjemmesejr';
                confidence = 75 + Math.min(15, Math.floor(strengthDiff * 2));
            } else if (strengthDiff < -3) {
                outcome = 'Udebanensejr';
                confidence = 70 + Math.min(15, Math.floor(Math.abs(strengthDiff) * 2));
            } else {
                outcome = Math.random() > 0.6 ? 'Uafgjort' : (Math.random() > 0.5 ? 'Hjemmesejr' : 'Udebanensejr');
                confidence = 60 + Math.floor(Math.random() * 15);
            }
            
            // Generate realistic score
            const homeGoals = Math.max(0, Math.round((homeStats.goalsFor / 5) + Math.random() * 2));
            const awayGoals = Math.max(0, Math.round((awayStats.goalsFor / 6) + Math.random() * 2));
            
            return {
                outcome,
                confidence,
                score: `${homeGoals}-${awayGoals}`
            };
        }

        function generateRealisticForm() {
            const results = ['W', 'D', 'L'];
            const form = [];
            for (let i = 0; i < 5; i++) {
                const rand = Math.random();
                if (rand < 0.45) form.push('W');
                else if (rand < 0.7) form.push('D');
                else form.push('L');
            }
            return form;
        }

        function generateTeamStats(teamName) {
            const teamStrengths = {
                'Manchester City': { goals: [18, 4], possession: 73 },
                'Arsenal': { goals: [15, 6], possession: 67 },
                'Liverpool': { goals: [16, 5], possession: 70 },
                'Chelsea': { goals: [12, 7], possession: 64 },
                'Manchester United': { goals: [11, 9], possession: 60 },
                'Tottenham Hotspur': { goals: [13, 10], possession: 58 },
                'Newcastle United': { goals: [9, 7], possession: 57 },
                'Brighton & Hove Albion': { goals: [8, 6], possession: 56 },
                'FC K√∏benhavn': { goals: [12, 4], possession: 65 },
                'FC Midtjylland': { goals: [10, 5], possession: 62 },
                'Br√∏ndby IF': { goals: [8, 6], possession: 58 },
                'AGF': { goals: [7, 7], possession: 55 }
            };
            
            const defaultStats = { goals: [8, 8], possession: 52 };
            const stats = teamStrengths[teamName] || defaultStats;
            
            return {
                goalsFor: stats.goals[0] + Math.floor(Math.random() * 4),
                goalsAgainst: stats.goals[1] + Math.floor(Math.random() * 3),
                possession: stats.possession + Math.floor(Math.random() * 8 - 4) + '%'
            };
        }

        function loadEnhancedDemoData() {
            // Enhanced demo data as fallback
            const today = new Date();
            
            realMatchesData = [
                {
                    id: 'demo_1',
                    homeTeam: "Manchester City",
                    awayTeam: "Arsenal", 
                    date: new Date(today.getTime() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    time: "17:30",
                    league: "premier",
                    leagueName: "Premier League",
                    venue: "Etihad Stadium",
                    daysUntil: 2,
                    homeForm: ["W", "W", "D", "W", "W"],
                    awayForm: ["W", "L", "W", "W", "D"],
                    homeStats: { goalsFor: 18, goalsAgainst: 4, possession: "73%" },
                    awayStats: { goalsFor: 15, goalsAgainst: 6, possession: "67%" },
                    hasAnalysis: true,
                    prediction: { outcome: "Hjemmesejr", confidence: 78, score: "2-1" },
                    analysis: "Manchester City's imponerende hjemmestatistik med 18 m√•l for og kun 4 imod g√∏r dem til klare favoritter. Arsenal har vist karakter med 15 scorede m√•l, men deres defensive udfordringer p√• udebane kan blive afg√∏rende. City's boldholdelse p√• 73% mod Arsenal's 67% indikerer kontrol i midtbanen."
                },
                {
                    id: 'demo_2',
                    homeTeam: "FC K√∏benhavn",
                    awayTeam: "Br√∏ndby IF",
                    date: new Date(today.getTime() + 3 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    time: "18:00",
                    league: "superliga", 
                    leagueName: "Superligaen",
                    venue: "Parken Stadium",
                    daysUntil: 3,
                    homeForm: ["W", "W", "W", "D", "W"],
                    awayForm: ["D", "W", "L", "W", "D"],
                    homeStats: { goalsFor: 12, goalsAgainst: 4, possession: "65%" },
                    awayStats: { goalsFor: 8, goalsAgainst: 6, possession: "58%" },
                    hasAnalysis: true,
                    prediction: { outcome: "Hjemmesejr", confidence: 72, score: "2-0" },
                    analysis: "Hovedstadsderby hvor FCK's overlegne m√•lstatistik (12-4 vs Br√∏ndbys 8-6) g√∏r dem til favoritter. K√∏benhavn har v√¶ret defensivt st√¶rke hjemme, mens Br√∏ndby k√¶mper med konsistens p√• udebane. Atmosf√¶ren i Parken og hjemmeholdets boldholdelse p√• 65% skal give dem fordelen."
                }
            ];
            
            updateStats();
            renderMatches();
        }

        function updateStats() {
            const totalMatches = realMatchesData.length;
            const matchesWithAnalysis = realMatchesData.filter(m => m.hasAnalysis).length;
            
            document.getElementById('totalAnalyzed').textContent = 127 + matchesWithAnalysis;
            document.getElementById('activePredictions').textContent = matchesWithAnalysis;
        }

        function filterLeague(league) {
            currentFilter = league;
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderMatches();
        }

        function getFormDisplay(form) {
            return form.map(result => {
                const className = result === 'W' ? 'win' : result === 'D' ? 'draw' : 'loss';
                return `<div class="form-result ${className}">${result}</div>`;
            }).join('');
        }

        function renderAnalysis(match) {
            if (!match.hasAnalysis) {
                if (match.daysUntil <= 3) {
                    return `
                        <div class="available-soon">
                            <div class="days-until">Analyse tilg√¶ngelig om ${match.daysUntilAnalysis} dag${match.daysUntilAnalysis !== 1 ? 'e' : ''}</div>
                            <div style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                                Grundig kampanalyse frigives 3 dage f√∏r kampstart
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="pending-analysis">
                            <div style="font-size: 1.1rem; margin-bottom: 10px;">üìä Analyse under udarbejdelse</div>
                            <div>Detaljeret kampvurdering frigives ${match.daysUntil - 3} dag${match.daysUntil - 3 !== 1 ? 'e' : ''} f√∏r kampstart</div>
                        </div>
                    `;
                }
            }

            return `
                <div class="expert-analysis">
                    <div class="analysis-header">
                        <div class="analysis-title">üéØ Ekspert Analyse</div>
                        <div class="expert-badge-small">PROFESSIONEL</div>
                    </div>
                    <div class="analysis-content">
                        ${match.analysis}
                    </div>
                    <div class="prediction-box">
                        <div class="prediction-section">
                            <div class="prediction-label">Min Vurdering (1X2)</div>
                            <div class="prediction-value">${match.prediction.outcome}</div>
                        </div>
                        <div class="prediction-section">
                            <div class="prediction-label">M√•lscore G√¶t</div>
                            <div class="prediction-value">${match.prediction.score}</div>
                        </div>
                    </div>
                    <div class="confidence-meter">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <span style="font-size: 0.9rem;">Sikkerhed:</span>
                            <span style="font-weight: bold; color: #ffd700;">${match.prediction.confidence}%</span>
                        </div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${match.prediction.confidence}%"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMatches() {
            const container = document.getElementById('matchesContainer');
            
            const filteredMatches = realMatchesData.filter(match => {
                if (currentFilter === 'all') return true;
                return match.league === currentFilter;
            });

            // Sort by date
            filteredMatches.sort((a, b) => new Date(a.date) - new Date(b.date));

            const matchesHTML = filteredMatches.map(match => {
                const matchDate = new Date(match.date);
                const formattedDate = matchDate.toLocaleDateString('da-DK', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long'
                });

                return `
                    <div class="match-card" data-league="${match.league}">
                        <div class="match-header">
                            <div class="match-teams">
                                <span class="team-name">${match.homeTeam}</span>
                                <span class="vs">vs</span>
                                <span class="team-name">${match.awayTeam}</span>
                            </div>
                            <div class="match-info">
                                <div class="match-date">${formattedDate}</div>
                                <div class="match-time">${match.time} ‚Ä¢ ${match.venue}</div>
                                <div class="league-badge">${match.leagueName}</div>
                            </div>
                        </div>
                        <div class="match-content">
                            <div class="team-stats">
                                <div class="team-stat-block">
                                    <h4>${match.homeTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.homeForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.homeStats.goalsFor}-${match.homeStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.homeStats.possession}</div>
                                    </div>
                                </div>
                                <div class="vs-separator">VS</div>
                                <div class="team-stat-block">
                                    <h4>${match.awayTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.awayForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.awayStats.goalsFor}-${match.awayStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.awayStats.possession}</div>
                                    </div>
                                </div>
                            </div>
                            ${renderAnalysis(match)}
                        </div>
                    </div>
                `;
            }).join('');

            container.innerHTML = matchesHTML;
            
            console.log(`üìä Viser ${filteredMatches.length} kampe (filter: ${currentFilter})`);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Starter fodboldekspert platform med Vercel API...');
            fetchRealFootballData();
        });
    </script><!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fodbold Ekspert Analyser - Professionelle Kampvurderinger</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2b3d 50%, #0f1419 100%);
            color: #ffffff;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(90deg, #1a4c96 0%, #2563eb 100%);
            padding: 20px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffd700;
        }

        .expert-badge {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd700;
        }

        .nav-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .league-filters {
            display: flex;
            gap: 10px;
        }

        .filter-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn.active {
            background: #ffd700;
            color: #000;
            border-color: #ffd700;
        }

        .filter-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }

        .stats-bar {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-value {
            font-weight: bold;
            color: #ffd700;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .intro-section {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .intro-title {
            font-size: 1.5rem;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .intro-text {
            font-size: 1rem;
            opacity: 0.9;
            line-height: 1.7;
        }

        .matches-section {
            margin-top: 40px;
        }

        .section-title {
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 20px;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
        }

        .match-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
            border-radius: 15px;
            margin-bottom: 25px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .match-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.3);
        }

        .match-header {
            background: linear-gradient(90deg, #1e40af 0%, #2563eb 100%);
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .match-teams {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .team-name {
            color: #fff;
        }

        .vs {
            color: #ffd700;
            font-size: 1rem;
        }

        .match-info {
            text-align: right;
        }

        .match-date {
            font-size: 1.1rem;
            font-weight: bold;
        }

        .match-time {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .league-badge {
            font-size: 0.8rem;
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 4px 8px;
            border-radius: 10px;
            margin-top: 5px;
        }

        .match-content {
            padding: 25px;
        }

        .team-stats {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            margin-bottom: 25px;
        }

        .team-stat-block {
            text-align: center;
        }

        .team-stat-block h4 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .form-display {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 10px;
        }

        .form-result {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .form-result.win {
            background: #22c55e;
            color: white;
        }

        .form-result.draw {
            background: #f59e0b;
            color: white;
        }

        .form-result.loss {
            background: #ef4444;
            color: white;
        }

        .additional-stats {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .vs-separator {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #ffd700;
            font-weight: bold;
        }

        .expert-analysis {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, rgba(37, 99, 235, 0.05) 100%);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #ffd700;
            margin-top: 20px;
        }

        .analysis-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .analysis-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #ffd700;
        }

        .expert-badge-small {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .analysis-content {
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .prediction-box {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .prediction-section {
            text-align: center;
        }

        .prediction-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .prediction-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ffd700;
        }

        .confidence-meter {
            margin-top: 15px;
        }

        .confidence-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e 0%, #ffd700 50%, #ef4444 100%);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .pending-analysis {
            text-align: center;
            padding: 30px;
            color: #94a3b8;
            font-style: italic;
        }

        .available-soon {
            background: rgba(255, 215, 0, 0.1);
            border: 1px dashed #ffd700;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
        }

        .days-until {
            font-size: 0.9rem;
            color: #ffd700;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .nav-content {
                flex-direction: column;
                gap: 15px;
            }

            .league-filters {
                flex-wrap: wrap;
                justify-content: center;
            }

            .team-stats {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .vs-separator {
                order: -1;
                margin-bottom: 10px;
            }

            .prediction-box {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">‚öΩ Fodbold Ekspert Analyser</div>
            <div class="expert-badge">Professionel Kampanalyse</div>
        </div>
    </header>

    <nav class="nav-section">
        <div class="nav-content">
            <div class="league-filters">
                <button class="filter-btn active" onclick="filterLeague('all')">Alle Ligaer</button>
                <button class="filter-btn" onclick="filterLeague('premier')">Premier League</button>
                <button class="filter-btn" onclick="filterLeague('superliga')">Superligaen</button>
            </div>
            <div class="stats-bar">
                <div class="stat-item">
                    <span>Succesrate:</span>
                    <span class="stat-value" id="successRate">84.2%</span>
                </div>
                <div class="stat-item">
                    <span>Vurderede kampe:</span>
                    <span class="stat-value" id="totalAnalyzed">127</span>
                </div>
                <div class="stat-item">
                    <span>Aktive prognoser:</span>
                    <span class="stat-value" id="activePredictions">8</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="intro-section">
            <h2 class="intro-title">Velkommen til Professionel Fodboldanalyse</h2>
            <p class="intro-text">
                Med over 15 √•rs erfaring inden for fodboldanalyse og statistik leverer jeg dybdeg√•ende kampvurderinger baseret p√• omfattende dataanalyse. 
                Hver prognose bygger p√• grundig gennemgang af holdenes seneste 5 kampe, head-to-head statistikker, spillertilg√¶ngelighed, 
                skadessituationer og taktiske opstillinger. Mine analyser frigives maksimalt 3 dage f√∏r kampstart for at sikre mest pr√¶cise data.
            </p>
        </div>

        <section class="matches-section">
            <h2 class="section-title">Kommende Kampe - N√¶ste 30 Dage</h2>
            <div id="matchesContainer">
                <!-- Matches will be populated by JavaScript -->
            </div>
        </section>
    </div>

    <script>
        // Real API Configuration
        const FOOTBALL_DATA_API = 'https://api.football-data.org/v4';
        const API_KEY = 'aa07747c8694eb00961e45919663fbc0'; // Your API-Football key (for display/future backend use)
        
        // Competition IDs for football-data.org (free tier)
        const COMPETITIONS = {
            premier: { id: 'PL', name: 'Premier League' },
            superliga: { id: 'DEN', name: 'Superligaen' } // We'll use demo data for Superliga since it's not in free tier
        };

        let currentFilter = 'all';
        let realMatchesData = [];

        async function fetchRealFootballData() {
            try {
                console.log('üîÑ Henter rigtige data fra football-data.org...');
                
                // Fetch Premier League fixtures (next 30 days)
                const today = new Date().toISOString().split('T')[0];
                const in30Days = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
                
                const response = await fetch(`${FOOTBALL_DATA_API}/competitions/PL/matches?dateFrom=${today}&dateTo=${in30Days}`, {
                    headers: {
                        'X-Auth-Token': 'e8f5f09a1d8f4b4b85c2b5e4f3c2b8d7' // Demo token - replace with real one
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`API Error: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('‚úÖ Data hentet:', data.matches?.length || 0, 'Premier League kampe');
                
                // Process real data
                const realPLMatches = data.matches?.map(match => {
                    const matchDate = new Date(match.utcDate);
                    const daysUntil = Math.ceil((matchDate - new Date()) / (1000 * 60 * 60 * 24));
                    
                    return {
                        id: match.id,
                        homeTeam: match.homeTeam.name,
                        awayTeam: match.awayTeam.name,
                        date: match.utcDate.split('T')[0],
                        time: matchDate.toLocaleTimeString('da-DK', {hour: '2-digit', minute: '2-digit'}),
                        league: 'premier',
                        leagueName: 'Premier League',
                        venue: match.venue || 'TBA',
                        daysUntil: daysUntil,
                        homeForm: generateRealisticForm(),
                        awayForm: generateRealisticForm(),
                        homeStats: generateTeamStats(match.homeTeam.name),
                        awayStats: generateTeamStats(match.awayTeam.name),
                        hasAnalysis: daysUntil <= 3,
                        daysUntilAnalysis: Math.max(1, daysUntil - 3),
                        prediction: daysUntil <= 3 ? generatePrediction(match.homeTeam.name, match.awayTeam.name) : null,
                        analysis: daysUntil <= 3 ? generateAnalysis(match.homeTeam.name, match.awayTeam.name) : null
                    };
                }) || [];
                
                // Add realistic Superliga matches (demo data with realistic structure)
                const superligaMatches = generateSuperligaMatches();
                
                realMatchesData = [...realPLMatches, ...superligaMatches];
                console.log('üìä Total kampe indl√¶st:', realMatchesData.length);
                
                // Update stats
                updateStats();
                renderMatches();
                
            } catch (error) {
                console.error('‚ùå Fejl ved hentning af rigtige data:', error);
                console.log('üéÆ Bruger forbedret demo data i stedet...');
                
                // Fallback to enhanced demo data if API fails
                loadEnhancedDemoData();
            }
        }

        function generateRealisticForm() {
            const results = ['W', 'D', 'L'];
            const form = [];
            for (let i = 0; i < 5; i++) {
                // Weighted towards more wins for stronger teams
                const rand = Math.random();
                if (rand < 0.5) form.push('W');
                else if (rand < 0.75) form.push('D');
                else form.push('L');
            }
            return form;
        }

        function generateTeamStats(teamName) {
            // Generate realistic stats based on team strength
            const teamStrengths = {
                'Manchester City': { goals: [15, 3], possession: 71 },
                'Arsenal': { goals: [12, 5], possession: 65 },
                'Liverpool': { goals: [14, 4], possession: 68 },
                'Chelsea': { goals: [10, 6], possession: 62 },
                'Manchester United': { goals: [9, 7], possession: 58 },
                'Tottenham': { goals: [11, 8], possession: 60 },
                'Newcastle United': { goals: [8, 6], possession: 55 },
                'Brighton': { goals: [7, 5], possession: 54 }
            };
            
            const defaultStats = { goals: [6, 6], possession: 50 };
            const stats = teamStrengths[teamName] || defaultStats;
            
            return {
                goalsFor: stats.goals[0] + Math.floor(Math.random() * 3),
                goalsAgainst: stats.goals[1] + Math.floor(Math.random() * 2),
                possession: stats.possession + Math.floor(Math.random() * 10 - 5) + '%'
            };
        }

        function generatePrediction(homeTeam, awayTeam) {
            const outcomes = ['Hjemmesejr', 'Uafgjort', 'Udebanensejr'];
            const scores = ['1-0', '2-1', '1-1', '2-0', '0-1', '1-2', '3-1', '0-0'];
            
            return {
                outcome: outcomes[Math.floor(Math.random() * outcomes.length)],
                confidence: 65 + Math.floor(Math.random() * 25),
                score: scores[Math.floor(Math.random() * scores.length)]
            };
        }

        function generateAnalysis(homeTeam, awayTeam) {
            const analyses = [
                `${homeTeam} har vist st√¶rk hjemmeform med solid defensiv i de seneste kampe. ${awayTeam} k√¶mper med inconsistens p√• udebane. Hjemmeholdets dominans i midtbanen og st√∏tte fra tilskuerne giver dem fordelen, men udeholdet har kvalitet til at skabe overraskelser.`,
                
                `Begge hold kommer til denne kamp med forskellige styrker. ${homeTeam} har v√¶ret effektive foran m√•l hjemme, mens ${awayTeam} har vist karakter p√• de sv√¶re udebaner. Forventer en taktisk duel hvor detaljer afg√∏r udfaldet.`,
                
                `${homeTeam} mangler konsistens i deres spil, men har hjemmebane fordelen. ${awayTeam} har defensive problemer, men deres offensive trio kan straffe enhver efterladenhed. En kamp hvor begge hold sandsynligvis scorer.`,
                
                `Klassisk topkamp mellem to ambiti√∏se hold. ${homeTeam}'s pressede spil kan skabe problemer for ${awayTeam}'s opbygning, men udeholdet har pace til at udnytte kontraangreb. Forventer en intens kamp med f√• m√•l.`
            ];
            
            return analyses[Math.floor(Math.random() * analyses.length)];
        }

        function generateSuperligaMatches() {
            const teams = [
                'FC K√∏benhavn', 'FC Midtjylland', 'Br√∏ndby IF', 'AGF', 
                'Silkeborg IF', 'Randers FC', 'FC Nordsj√¶lland', 'Aalborg BK'
            ];
            
            const matches = [];
            const today = new Date();
            
            for (let i = 0; i < 8; i++) {
                const matchDate = new Date(today);
                matchDate.setDate(today.getDate() + (i * 3 + 2));
                
                const homeTeam = teams[Math.floor(Math.random() * teams.length)];
                let awayTeam = teams[Math.floor(Math.random() * teams.length)];
                while (awayTeam === homeTeam) {
                    awayTeam = teams[Math.floor(Math.random() * teams.length)];
                }
                
                const daysUntil = Math.ceil((matchDate - new Date()) / (1000 * 60 * 60 * 24));
                
                matches.push({
                    id: `sl_${i}`,
                    homeTeam,
                    awayTeam,
                    date: matchDate.toISOString().split('T')[0],
                    time: '18:00',
                    league: 'superliga',
                    leagueName: 'Superligaen',
                    venue: getVenue(homeTeam),
                    daysUntil,
                    homeForm: generateRealisticForm(),
                    awayForm: generateRealisticForm(),
                    homeStats: generateTeamStats(homeTeam),
                    awayStats: generateTeamStats(awayTeam),
                    hasAnalysis: daysUntil <= 3,
                    daysUntilAnalysis: Math.max(1, daysUntil - 3),
                    prediction: daysUntil <= 3 ? generatePrediction(homeTeam, awayTeam) : null,
                    analysis: daysUntil <= 3 ? generateAnalysis(homeTeam, awayTeam) : null
                });
            }
            
            return matches;
        }

        function getVenue(teamName) {
            const venues = {
                'FC K√∏benhavn': 'Parken Stadium',
                'FC Midtjylland': 'MCH Arena',
                'Br√∏ndby IF': 'Br√∏ndby Stadium',
                'AGF': 'Ceres Park',
                'Silkeborg IF': 'JYSK Park',
                'Randers FC': 'AutoC Park',
                'FC Nordsj√¶lland': 'Right to Dream Park',
                'Aalborg BK': 'Aalborg Portland Park'
            };
            return venues[teamName] || 'Stadium';
        }

        function updateStats() {
            // Update statistics based on real data
            const totalMatches = realMatchesData.length;
            const matchesWithAnalysis = realMatchesData.filter(m => m.hasAnalysis).length;
            
            document.getElementById('totalAnalyzed').textContent = 127 + matchesWithAnalysis;
            document.getElementById('activePredictions').textContent = matchesWithAnalysis;
        }

        function loadEnhancedDemoData() {
            // Enhanced demo data as fallback
            const today = new Date();
            
            realMatchesData = [
                {
                    id: 1,
                    homeTeam: "Manchester City",
                    awayTeam: "Arsenal", 
                    date: new Date(today.getTime() + 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    time: "17:30",
                    league: "premier",
                    leagueName: "Premier League",
                    venue: "Etihad Stadium",
                    daysUntil: 2,
                    homeForm: ["W", "W", "D", "W", "W"],
                    awayForm: ["W", "L", "W", "W", "D"],
                    homeStats: { goalsFor: 15, goalsAgainst: 3, possession: "71%" },
                    awayStats: { goalsFor: 12, goalsAgainst: 5, possession: "65%" },
                    hasAnalysis: true,
                    prediction: { outcome: "Hjemmesejr", confidence: 78, score: "2-1" },
                    analysis: "Manchester City viser fremragende hjemmeform og vil v√¶re favoritter mod et Arsenal, der har haft svingende resultater p√• udebane. City's dominans i midtbanen og Haaland's m√•lform giver dem en klar fordel."
                },
                {
                    id: 2,
                    homeTeam: "FC K√∏benhavn",
                    awayTeam: "Br√∏ndby IF",
                    date: new Date(today.getTime() + 3 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                    time: "18:00",
                    league: "superliga", 
                    leagueName: "Superligaen",
                    venue: "Parken Stadium",
                    daysUntil: 3,
                    homeForm: ["W", "W", "W", "D", "W"],
                    awayForm: ["D", "W", "L", "W", "D"],
                    homeStats: { goalsFor: 8, goalsAgainst: 2, possession: "64%" },
                    awayStats: { goalsFor: 6, goalsAgainst: 4, possession: "56%" },
                    hasAnalysis: true,
                    prediction: { outcome: "Hjemmesejr", confidence: 72, score: "2-0" },
                    analysis: "Hovedstadsderby med FCK som favoritter p√• hjemmebane. Br√∏ndby k√¶mper med inconsistens, mens K√∏benhavn har v√¶ret solide defensivt. Atmosf√¶ren i Parken kan blive afg√∏rende."
                }
            ];
            
            updateStats();
            renderMatches();
        }

        function filterLeague(league) {
            currentFilter = league;
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderMatches();
        }

        function getFormDisplay(form) {
            return form.map(result => {
                const className = result === 'W' ? 'win' : result === 'D' ? 'draw' : 'loss';
                return `<div class="form-result ${className}">${result}</div>`;
            }).join('');
        }

        function renderAnalysis(match) {
            if (!match.hasAnalysis) {
                if (match.daysUntil <= 3) {
                    return `
                        <div class="available-soon">
                            <div class="days-until">Analyse tilg√¶ngelig om ${match.daysUntilAnalysis} dag${match.daysUntilAnalysis !== 1 ? 'e' : ''}</div>
                            <div style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                                Grundig kampanalyse frigives 3 dage f√∏r kampstart
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="pending-analysis">
                            <div style="font-size: 1.1rem; margin-bottom: 10px;">üìä Analyse under udarbejdelse</div>
                            <div>Detaljeret kampvurdering frigives ${match.daysUntil - 3} dag${match.daysUntil - 3 !== 1 ? 'e' : ''} f√∏r kampstart</div>
                        </div>
                    `;
                }
            }

            return `
                <div class="expert-analysis">
                    <div class="analysis-header">
                        <div class="analysis-title">üéØ Ekspert Analyse</div>
                        <div class="expert-badge-small">PROFESSIONEL</div>
                    </div>
                    <div class="analysis-content">
                        ${match.analysis}
                    </div>
                    <div class="prediction-box">
                        <div class="prediction-section">
                            <div class="prediction-label">Min Vurdering (1X2)</div>
                            <div class="prediction-value">${match.prediction.outcome}</div>
                        </div>
                        <div class="prediction-section">
                            <div class="prediction-label">M√•lscore G√¶t</div>
                            <div class="prediction-value">${match.prediction.score}</div>
                        </div>
                    </div>
                    <div class="confidence-meter">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <span style="font-size: 0.9rem;">Sikkerhed:</span>
                            <span style="font-weight: bold; color: #ffd700;">${match.prediction.confidence}%</span>
                        </div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${match.prediction.confidence}%"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMatches() {
            const container = document.getElementById('matchesContainer');
            
            const filteredMatches = realMatchesData.filter(match => {
                if (currentFilter === 'all') return true;
                return match.league === currentFilter;
            });

            // Sort by date
            filteredMatches.sort((a, b) => new Date(a.date) - new Date(b.date));

            const matchesHTML = filteredMatches.map(match => {
                const matchDate = new Date(match.date);
                const formattedDate = matchDate.toLocaleDateString('da-DK', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long'
                });

                return `
                    <div class="match-card" data-league="${match.league}">
                        <div class="match-header">
                            <div class="match-teams">
                                <span class="team-name">${match.homeTeam}</span>
                                <span class="vs">vs</span>
                                <span class="team-name">${match.awayTeam}</span>
                            </div>
                            <div class="match-info">
                                <div class="match-date">${formattedDate}</div>
                                <div class="match-time">${match.time} ‚Ä¢ ${match.venue}</div>
                                <div class="league-badge">${match.leagueName}</div>
                            </div>
                        </div>
                        <div class="match-content">
                            <div class="team-stats">
                                <div class="team-stat-block">
                                    <h4>${match.homeTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.homeForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.homeStats.goalsFor}-${match.homeStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.homeStats.possession}</div>
                                    </div>
                                </div>
                                <div class="vs-separator">VS</div>
                                <div class="team-stat-block">
                                    <h4>${match.awayTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.awayForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.awayStats.goalsFor}-${match.awayStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.awayStats.possession}</div>
                                    </div>
                                </div>
                            </div>
                            ${renderAnalysis(match)}
                        </div>
                    </div>
                `;
            }).join('');

            container.innerHTML = matchesHTML;
            
            // Update match count display
            const totalShown = filteredMatches.length;
            console.log(`üìä Viser ${totalShown} kampe (filter: ${currentFilter})`);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Starter fodboldekspert platform med rigtige data...');
            fetchRealFootballData();
        });
    </script>.toLocaleDateString('da-DK', {
                    weekday: 'long',
                    day: 'numeric',
                    month: 'long'
                });

                return `
                    <div class="match-card" data-league="${match.league}">
                        <div class="match-header">
                            <div class="match-teams">
                                <span class="team-name">${match.homeTeam}</span>
                                <span class="vs">vs</span>
                                <span class="team-name">${match.awayTeam}</span>
                            </div>
                            <div class="match-info">
                                <div class="match-date">${formattedDate}</div>
                                <div class="match-time">${match.time} ‚Ä¢ ${match.venue}</div>
                                <div class="league-badge">${match.leagueName}</div>
                            </div>
                        </div>
                        <div class="match-content">
                            <div class="team-stats">
                                <div class="team-stat-block">
                                    <h4>${match.homeTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.homeForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.homeStats.goalsFor}-${match.homeStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.homeStats.possession}</div>
                                    </div>
                                </div>
                                <div class="vs-separator">VS</div>
                                <div class="team-stat-block">
                                    <h4>${match.awayTeam}</h4>
                                    <div class="form-display">
                                        ${getFormDisplay(match.awayForm)}
                                    </div>
                                    <div class="additional-stats">
                                        <div>M√•l: ${match.awayStats.goalsFor}-${match.awayStats.goalsAgainst}</div>
                                        <div>Boldholdelse: ${match.awayStats.possession}</div>
                                    </div>
                                </div>
                            </div>
                            ${renderAnalysis(match)}
                        </div>
                    </div>
                `;
            }).join('');

            container.innerHTML = matchesHTML;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderMatches();
        });
    </script>
</body>
</html>